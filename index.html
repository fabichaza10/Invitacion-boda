<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fabian & Maira</title>

<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,500;1,600&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:'Cormorant Garamond',serif;
  background:#f4efe6;
  color:#4a443c
}
.wrapper{max-width:420px;margin:auto;padding:46px 22px;text-align:center}
.section{margin:36px 0}
.divider{width:60%;height:1px;margin:28px auto;background:linear-gradient(to right,transparent,#cfc9bd,transparent)}
h1{font-size:2.6rem;font-style:italic}
h2{font-size:1.5rem;font-style:italic}
p{font-size:1.05rem;line-height:1.7}
input{
  width:100%;padding:14px;border-radius:28px;
  border:1px solid #cfc9bd;margin-top:14px;
  text-align:center;font-family:inherit
}
button{
  width:100%;padding:14px;border-radius:28px;
  background:#EDE8D0;border:none;margin-top:14px;
  font-family:inherit;cursor:pointer
}
button.secondary{background:#e3dec6}
iframe{width:100%;height:190px;border:none;border-radius:14px;margin-top:14px}
.countdown-box{
  border:1px solid #d6cfbf;
  border-radius:22px;
  padding:20px;background:rgba(255,255,255,.4)
}
#reloj{display:flex;justify-content:space-between}
.numero{font-size:2.2rem}
.label{font-size:.7rem;opacity:.6}
#error{color:#8b2e2e;margin-top:12px}
#ok{color:#4a6b3c;margin-top:12px}
#invitacion{display:none}
</style>
</head>

<body>

<div class="wrapper" id="acceso">
  <h1>Invitación</h1>
  <p>Ingresá tu nombre</p>
  <input id="nombreInput" placeholder="Tu nombre">
  <button onclick="entrar()">Ingresar</button>
  <p id="error"></p>
</div>

<div class="wrapper" id="invitacion">

  <div class="section">
    <h1>Fabian & Maira</h1>
    <p id="mensajePersonal"></p>
    <p>Con mucha alegría queremos invitarte a compartir nuestro día.</p>
  </div>

  <div class="divider"></div>

  <div class="section">
    <h2>Civil</h2>
    <p>06 de marzo de 2026 · 9:55</p>
    <p>Registro Provincial de las Personas – Caseros</p>
    <iframe src="https://www.google.com/maps?q=Registro%20Provincial%20de%20las%20Personas%20Caseros&output=embed"></iframe>
  </div>

  <div class="section">
    <div class="countdown-box">
      <div id="reloj">
        <div><div class="numero" id="d"></div><div class="label">DIAS</div></div>
        <div><div class="numero" id="h"></div><div class="label">HS</div></div>
        <div><div class="numero" id="m"></div><div class="label">MIN</div></div>
        <div><div class="numero" id="s"></div><div class="label">SEG</div></div>
      </div>
    </div>
  </div>

  <div class="section">
    <h2>Celebración</h2>
    <p>06 de marzo de 2026 · 21:30</p>
    <p>Quinta La Mabel</p>
    <iframe src="https://www.google.com/maps?q=Quinta%20La%20Mabel&output=embed"></iframe>
  </div>

  <div class="divider"></div>

  <div class="section">
    <h2>¿Qué canciones no pueden faltar?</h2>
    <input id="cancion" placeholder="Canción o artista">
  </div>

  <div class="divider"></div>

  <div class="section">
    <button onclick="confirmar(true)">Confirmo asistencia</button>
    <button class="secondary" onclick="confirmar(false)">No podré asistir</button>
    <p id="ok"></p>
  </div>

</div>

<script>
const API_URL="https://script.google.com/macros/s/AKfycbxMyPs1gFNpapW9rFo-M6m3FWk5ceef_4VzxTTSu09c9q42eEfbpPxN9D4MaaxxkLKg6w/exec";

const invitados={
  "Ana":"Ana, nos encantaría que seas parte.",
  "Juan":"Juan, será una alegría compartirlo con vos.",
  "María":"María, esperamos verte en este día especial."
};

let nombreActual="";

function entrar(){
  const n=nombreInput.value.trim();
  if(!invitados[n]){
    error.innerText="Nombre no encontrado";
    return;
  }
  nombreActual=n;
  mensajePersonal.innerText=invitados[n];
  acceso.style.display="none";
  invitacion.style.display="block";
}

function confirmar(asiste){
  const cancion=document.getElementById("cancion").value;

  fetch(API_URL,{
    method:"POST",
    mode:"no-cors",
    headers:{"Content-Type":"application/x-www-form-urlencoded"},
    body:new URLSearchParams({
      nombre:nombreActual,
      asistencia:asiste?"Sí":"No",
      cancion:cancion
    })
  });

  ok.innerText="Gracias, tu respuesta fue registrada.";
}

const fecha=new Date("2026-03-06T00:00:00");
setInterval(()=>{
  const diff=fecha-new Date();
  d.innerText=Math.floor(diff/86400000);
  h.innerText=Math.floor(diff/3600000)%24;
  m.innerText=Math.floor(diff/60000)%60;
  s.innerText=Math.floor(diff/1000)%60;
},1000);
</script>

</body>
</html>

